<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>关于JavaScript中的Date你需要知道的一切 | 六小登登 | 个人博客</title>
    <meta name="description" content="一个爱写作的技术人">
    <meta name="baidu-site-verification" content="98hqserh61">
  <meta name="google-site-verification" content="R6VvQeeR0rKnNfAn8nH1HOU5hyK5KAVFHXAH8KivxGQ">
  <link rel="icon" href="/favicon.png">
    
    <link rel="preload" href="/assets/css/0.styles.e091e816.css" as="style"><link rel="preload" href="/assets/js/app.f4e7215e.js" as="script"><link rel="preload" href="/assets/js/6.7295f252.js" as="script"><link rel="preload" href="/assets/js/49.c4673552.js" as="script"><link rel="prefetch" href="/assets/js/1.9a4105ea.js"><link rel="prefetch" href="/assets/js/10.fe7b5075.js"><link rel="prefetch" href="/assets/js/100.4529bc67.js"><link rel="prefetch" href="/assets/js/101.5c853def.js"><link rel="prefetch" href="/assets/js/102.c71d3110.js"><link rel="prefetch" href="/assets/js/103.759cd44f.js"><link rel="prefetch" href="/assets/js/104.4b174d01.js"><link rel="prefetch" href="/assets/js/105.faae6855.js"><link rel="prefetch" href="/assets/js/106.d0811dd9.js"><link rel="prefetch" href="/assets/js/107.083a61b4.js"><link rel="prefetch" href="/assets/js/108.e153da10.js"><link rel="prefetch" href="/assets/js/109.600ca410.js"><link rel="prefetch" href="/assets/js/11.2f0ce85c.js"><link rel="prefetch" href="/assets/js/110.d089c98a.js"><link rel="prefetch" href="/assets/js/111.11381a3b.js"><link rel="prefetch" href="/assets/js/112.2643433e.js"><link rel="prefetch" href="/assets/js/113.60a6b17f.js"><link rel="prefetch" href="/assets/js/114.6818261d.js"><link rel="prefetch" href="/assets/js/115.ffb84184.js"><link rel="prefetch" href="/assets/js/116.68f33f59.js"><link rel="prefetch" href="/assets/js/117.abd51682.js"><link rel="prefetch" href="/assets/js/118.f39fc97f.js"><link rel="prefetch" href="/assets/js/119.f902e0d8.js"><link rel="prefetch" href="/assets/js/12.8209f90e.js"><link rel="prefetch" href="/assets/js/120.67f5417c.js"><link rel="prefetch" href="/assets/js/121.3e28114c.js"><link rel="prefetch" href="/assets/js/122.f025b1bf.js"><link rel="prefetch" href="/assets/js/123.ad439bb5.js"><link rel="prefetch" href="/assets/js/124.339301a3.js"><link rel="prefetch" href="/assets/js/125.448ef6ef.js"><link rel="prefetch" href="/assets/js/13.1eed296c.js"><link rel="prefetch" href="/assets/js/14.8b9b7f10.js"><link rel="prefetch" href="/assets/js/15.dd187ddc.js"><link rel="prefetch" href="/assets/js/16.4bf5485b.js"><link rel="prefetch" href="/assets/js/17.327a0014.js"><link rel="prefetch" href="/assets/js/18.efb2930c.js"><link rel="prefetch" href="/assets/js/19.d85be20c.js"><link rel="prefetch" href="/assets/js/2.0e0fec4e.js"><link rel="prefetch" href="/assets/js/20.e7982505.js"><link rel="prefetch" href="/assets/js/21.ece80c79.js"><link rel="prefetch" href="/assets/js/22.878212c4.js"><link rel="prefetch" href="/assets/js/23.09f3d5bb.js"><link rel="prefetch" href="/assets/js/24.8b0ded6a.js"><link rel="prefetch" href="/assets/js/25.1c2bc414.js"><link rel="prefetch" href="/assets/js/26.afbc5ffc.js"><link rel="prefetch" href="/assets/js/27.d9f17baf.js"><link rel="prefetch" href="/assets/js/28.c8a147ce.js"><link rel="prefetch" href="/assets/js/29.26fef0a7.js"><link rel="prefetch" href="/assets/js/3.b569db4c.js"><link rel="prefetch" href="/assets/js/30.0cf982ef.js"><link rel="prefetch" href="/assets/js/31.2650cf9d.js"><link rel="prefetch" href="/assets/js/32.426bce67.js"><link rel="prefetch" href="/assets/js/33.6c6b8f0c.js"><link rel="prefetch" href="/assets/js/34.43416072.js"><link rel="prefetch" href="/assets/js/35.d6af82e6.js"><link rel="prefetch" href="/assets/js/36.8ccc507b.js"><link rel="prefetch" href="/assets/js/37.75649a25.js"><link rel="prefetch" href="/assets/js/38.c29d64b0.js"><link rel="prefetch" href="/assets/js/39.af9b7740.js"><link rel="prefetch" href="/assets/js/40.2d778bcb.js"><link rel="prefetch" href="/assets/js/41.5c11a35a.js"><link rel="prefetch" href="/assets/js/42.3ee551a0.js"><link rel="prefetch" href="/assets/js/43.d866b4c1.js"><link rel="prefetch" href="/assets/js/44.c87bb529.js"><link rel="prefetch" href="/assets/js/45.76f2fc66.js"><link rel="prefetch" href="/assets/js/46.77bb0dc8.js"><link rel="prefetch" href="/assets/js/47.c4a8e9fe.js"><link rel="prefetch" href="/assets/js/48.9cf1b148.js"><link rel="prefetch" href="/assets/js/50.257c3638.js"><link rel="prefetch" href="/assets/js/51.b4d209a2.js"><link rel="prefetch" href="/assets/js/52.88d08c8c.js"><link rel="prefetch" href="/assets/js/53.96a8262c.js"><link rel="prefetch" href="/assets/js/54.e2298d32.js"><link rel="prefetch" href="/assets/js/55.ac367ee4.js"><link rel="prefetch" href="/assets/js/56.427d64a5.js"><link rel="prefetch" href="/assets/js/57.e7777299.js"><link rel="prefetch" href="/assets/js/58.e7ed125d.js"><link rel="prefetch" href="/assets/js/59.9bdef9dd.js"><link rel="prefetch" href="/assets/js/60.2ac5be63.js"><link rel="prefetch" href="/assets/js/61.0fa249c7.js"><link rel="prefetch" href="/assets/js/62.e5a16f60.js"><link rel="prefetch" href="/assets/js/63.5fad2677.js"><link rel="prefetch" href="/assets/js/64.19a95a28.js"><link rel="prefetch" href="/assets/js/65.ce2a1cd2.js"><link rel="prefetch" href="/assets/js/66.a7f3d9ae.js"><link rel="prefetch" href="/assets/js/67.d13e6738.js"><link rel="prefetch" href="/assets/js/68.de005e37.js"><link rel="prefetch" href="/assets/js/69.4a7ce968.js"><link rel="prefetch" href="/assets/js/7.d568f4d6.js"><link rel="prefetch" href="/assets/js/70.38cd20f3.js"><link rel="prefetch" href="/assets/js/71.a580a147.js"><link rel="prefetch" href="/assets/js/72.2875c20a.js"><link rel="prefetch" href="/assets/js/73.64cd0de7.js"><link rel="prefetch" href="/assets/js/74.31138ee1.js"><link rel="prefetch" href="/assets/js/75.5d661a83.js"><link rel="prefetch" href="/assets/js/76.2c925533.js"><link rel="prefetch" href="/assets/js/77.268d5389.js"><link rel="prefetch" href="/assets/js/78.9f7fff4b.js"><link rel="prefetch" href="/assets/js/79.4af067b7.js"><link rel="prefetch" href="/assets/js/8.3c48ae9c.js"><link rel="prefetch" href="/assets/js/80.23a4baf0.js"><link rel="prefetch" href="/assets/js/81.485b7209.js"><link rel="prefetch" href="/assets/js/82.04abac67.js"><link rel="prefetch" href="/assets/js/83.c14c8de4.js"><link rel="prefetch" href="/assets/js/84.145810d6.js"><link rel="prefetch" href="/assets/js/85.7fe879f5.js"><link rel="prefetch" href="/assets/js/86.17609648.js"><link rel="prefetch" href="/assets/js/87.add2061f.js"><link rel="prefetch" href="/assets/js/88.99171355.js"><link rel="prefetch" href="/assets/js/89.01ccac1c.js"><link rel="prefetch" href="/assets/js/9.f42dbcfc.js"><link rel="prefetch" href="/assets/js/90.32a59be8.js"><link rel="prefetch" href="/assets/js/91.5d5bea86.js"><link rel="prefetch" href="/assets/js/92.39a342bc.js"><link rel="prefetch" href="/assets/js/93.537b5022.js"><link rel="prefetch" href="/assets/js/94.d5732914.js"><link rel="prefetch" href="/assets/js/95.26e65223.js"><link rel="prefetch" href="/assets/js/96.1a32dc2c.js"><link rel="prefetch" href="/assets/js/97.bb66f3f1.js"><link rel="prefetch" href="/assets/js/98.3155e09f.js"><link rel="prefetch" href="/assets/js/99.e053247a.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.980c108b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e091e816.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">六小登登 | 个人博客</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/python/why-learning-python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/javascript/excution-content/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/css/css-content/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/css-tip/auto-rect-scale/" class="nav-link">无限CSS</a></div><div class="nav-item"><a href="/vue/vue-keep-alive/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/handle/image-layout/" class="nav-link">手把手系列</a></div><div class="nav-item"><a href="/talk/完美主义/" class="nav-link">认知思维</a></div><div class="nav-item"><a href="https://github.com/liuxiaodeng/liuxiaodeng.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/python/why-learning-python/" class="nav-link">Python</a></div><div class="nav-item"><a href="/javascript/excution-content/" class="nav-link">JavaScript</a></div><div class="nav-item"><a href="/css/css-content/" class="nav-link">CSS</a></div><div class="nav-item"><a href="/css-tip/auto-rect-scale/" class="nav-link">无限CSS</a></div><div class="nav-item"><a href="/vue/vue-keep-alive/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/handle/image-layout/" class="nav-link">手把手系列</a></div><div class="nav-item"><a href="/talk/完美主义/" class="nav-link">认知思维</a></div><div class="nav-item"><a href="https://github.com/liuxiaodeng/liuxiaodeng.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>JavaScript</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/javascript/excution-content.html" class="sidebar-link">Javascript中你必须理解的执行上下文和调用栈</a></li><li><a href="/javascript/javascript-date-object.html" class="active sidebar-link">关于JavaScript中的Date你需要知道的一切</a></li><li><a href="/javascript/web-learned.html" class="sidebar-link">一个「学渣」从零Web前端自学之路</a></li><li><a href="/javascript/capture-video.html" class="sidebar-link">Web实战：如何进行视频截图</a></li><li><a href="/javascript/array-splice.html" class="sidebar-link">Array系列之增删改</a></li><li><a href="/javascript/array-sort.html" class="sidebar-link">Array系列之数组的转换与排序</a></li><li><a href="/javascript/array-for-two.html" class="sidebar-link">Array系列之迭代方法二</a></li><li><a href="/javascript/array-for.html" class="sidebar-link">Array系列之迭代方法一</a></li><li><a href="/javascript/array-push-pop.html" class="sidebar-link">Array系列之栈与队列</a></li><li><a href="/javascript/find-script.html" class="sidebar-link">说一说 script 标签</a></li><li><a href="/javascript/history-script.html" class="sidebar-link">Javascript简史</a></li><li><a href="/javascript/webstorm-active.html" class="sidebar-link">一步永久激活WebStorm2018</a></li><li><a href="/javascript/chrome-plug.html" class="sidebar-link">珍藏版Chrome插件送给你们，不仅是程序员必备</a></li><li><a href="/javascript/wechat-tool.html" class="sidebar-link">你不知道的 3 个微信小工具</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content default"><h2 id="关于javascript中的date你需要知道的一切"><a href="#关于javascript中的date你需要知道的一切" aria-hidden="true" class="header-anchor">#</a> 关于JavaScript中的Date你需要知道的一切</h2> <p>Date 对象在 JavaScript 中是非常奇怪的，以至于我们在处理时间和日期时，需要使用第三方库 <a href="https://date-fns.org/" target="_blank" rel="noopener noreferrer">date-fns<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 或 <a href="https://momentjs.com/" target="_blank" rel="noopener noreferrer">Moment<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来处理。</p> <p>但是并不是任何时候都需要引入这些库，如果你足够了解日期对象的话它其实很简单，在这篇文章中我将带你了解所有关于日期对象的信息。</p> <p>首先，先从时区开始。</p> <h3 id="时区"><a href="#时区" aria-hidden="true" class="header-anchor">#</a> 时区</h3> <p>世界上有几百个时区，但在 JavaScript 中，你只需要了解两个就行：当地时间和世界协调时（UTC）。</p> <p>当地时间：指你的计算机所在的时区
世界协调时：是最主要的世界时间标准，是最接近格林威治标准时间（GMT），默认情况下，Date 对象创建的都是当地时间，只有在指定 UTC 时它才会创建世界协调时。</p> <p>有了这个，就可以来谈论日期创建了。</p> <h3 id="创建日期"><a href="#创建日期" aria-hidden="true" class="header-anchor">#</a> 创建日期</h3> <p>你可以通过 <code>new Date()</code> 来创建日期，它有四种使用方式：</p> <ol><li>日期字符串</li> <li>日期参数</li> <li>时间戳</li> <li>无参数</li></ol> <h4 id="_1-日期字符串"><a href="#_1-日期字符串" aria-hidden="true" class="header-anchor">#</a> 1.日期字符串</h4> <p>给 <code>new Date</code> 传递一个日期字符串来创建</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'1988-03-21'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>在创建日期时，我们倾向于这种日期字符串方法。因为这很自然符合我们的默认习惯。如果你写成 <code>21-03-1988</code>，在 JavaScript 中它是无效的。</p> <p><img src="https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_620,f_auto,q_auto/v1559675980/new-date-invalid_lai9gm.png" alt=""></p> <p>原因是因为：</p> <p>在世界上不同的地方，对日期字符有不同的理解，例如: <code>11-06-2019</code> 你可以认为是 <code>11th June, 2019</code> 你也可以认为是 <code>6th November 2019</code>。如果不告诉你时间系统，根本无法得知到底该是哪个。</p> <p>JavaScript 中，如果你想使用日期字符串，就必须使用一种全世界通用的格式，其中的一种格式就是 <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="noopener noreferrer">ISO 8601 Extended format<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// ISO 8601 Extended format</span>
<span class="token template-string"><span class="token string">`YYYY-MM-DDTHH:mm:ss:sssZ`</span></span>
</code></pre></div><p>其中：</p> <ul><li>YYYY：4 位数的年份</li> <li>MM：2 位数的月份（01-12）</li> <li>DD：2 位数的日期（0-31）</li> <li>-：日期分隔符</li> <li>T：指示时间的开始</li> <li>HH: 小时 (0 to 23)</li> <li>mm: 分钟 (0 to 59)</li> <li>ss: 秒数 (0 to 59)</li> <li>sss: 毫秒 (0 to 999)</li> <li>: ：时间分隔符</li> <li>Z：时区，有 Z 采用 UTC 时区，没有则是当地时区（仅限有时间的情况）</li></ul> <blockquote><p>注意：原文中的 DD：2 位数的日期（0-31）有误，经求证 DD 应为 （01 to 31）可查看<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.9.1.15" target="_blank" rel="noopener noreferrer">Date Time String Format<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <p>其中，小时、分钟、秒和毫秒是可选的。因此，如果想创建一个日期 2019年6月11日，你可以这么做：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2019-06-11'</span><span class="token punctuation">)</span>
</code></pre></div><p>请注意，如果你用 <code>console.log</code> 打印出这个日期，会发现存在一个很大的问题。</p> <p>如果此时你在 GMT 时区「之后」的地区，得到的是：6月10日。</p> <p><img src="https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_1200,f_auto,q_auto/v1559676211/datestring-10june_quwwyj.png" alt=""></p> <p>如果此时你是在 GMT 时区「之前」的地区，你得到的是：6月11日。</p> <p><img src="https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_1230,f_auto,q_auto/v1559676237/datestring-11june_k1cbjd.png" alt=""></p> <p><strong>出现这种现象的原因是：当使用日期字符串时它会有一个特殊的行为：如果创建一个不指定时间的日期，它会以 UTC（世界协调时） 为时区。</strong></p> <p>所以如果你想创建本地时间，你需要加上 <code>HH</code> 和 <code>mm</code>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2019-06-11T00:00'</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_1220,f_auto,q_auto/v1559676727/datestring-local_n9ezgj.png" alt=""></p> <p>通过上面能够看出使用日期字符串时，可能会因为本地时间和世界协调时出现何难捕捉的错误。</p> <p><strong>所以推荐你不要使用日期字符串来创建日期</strong></p> <p>顺便说一下，MDN 也警告不要使用日期字符串方法，因为浏览器可能会以不同的方式解析日期字符串。</p> <p><img src="https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_908,f_auto,q_auto/v1559676780/mdn_dnyud1.png" alt=""></p> <p>如果要创建日期，请使用参数或时间戳。</p> <h4 id="_2-参数"><a href="#_2-参数" aria-hidden="true" class="header-anchor">#</a> 2.参数</h4> <p>你最多可以传递 7 个参数来创建日期。</p> <ul><li>Year: 4 为数年份</li> <li>Month: 月份 (0-11)，默认值为 0</li> <li>Day：天(1-31)，默认值为 1</li> <li>Hour：小时(0-23)，默认值为 0</li> <li>Minutes：分钟 (0-59)，默认值为 0</li> <li>Seconds：秒数(0-59)，默认值为 0</li> <li>Milliseconds: 毫秒数 (0-999)，默认值为 0</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 11th June 2019, 5:23:59am, Local Time</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span>
</code></pre></div><p>因为它看起来复杂，导致很多开发人员都不经常使用此方法来创建日期，但事实上却很简单。</p> <p>它的参数从左到右分别为：年，月，日，时，分，秒，毫秒。就是这么简单。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2017</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span>

<span class="token comment">// This date can be easily read if you follow the left-right formula.</span>
<span class="token comment">// Year: 2017,</span>
<span class="token comment">// Month: April (because month is zero-indexed)</span>
<span class="token comment">// Date: 22</span>
<span class="token comment">// Hours: 05</span>
<span class="token comment">// Minutes: 23</span>
<span class="token comment">// Seconds: 50</span>
</code></pre></div><p>唯一最大的问题就是月份的索引是从 0 开始的。如1月=== 0，2月=== 1，3月=== 2等等。</p> <p>我们不知道为什么月份的索引是从 0 开始的，但确实如此，与其争论为什么不从 1 开始，不如试着去接收，一旦你接收了这个事实，它就变得容易多了。</p> <p>通过几个例子熟悉一下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 21st March 1988, 12am, Local Time.</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1988</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">)</span>

<span class="token comment">// 25th December 2019, 8am, Local Time.</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">)</span>

<span class="token comment">// 6th November 2023, 2:20am, Local Time</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2023</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>

<span class="token comment">// 11th June 2019, 5:23:59am, Local Time</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">)</span>
</code></pre></div><p>你会发现使用参数创建的时间都是本地时间，这也是它的好处之一，不会像日期字符串那样会产生不同的结果。</p> <p>如果你想创建UTC（世界协调时）的话，可以这么做：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 11th June 2019, 12am, UTC.</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token constant">UTC</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_3-时间戳"><a href="#_3-时间戳" aria-hidden="true" class="header-anchor">#</a> 3.时间戳</h4> <p>在 JavaScript 中，时间戳是指自1970年1月1日到现在的毫秒数。据我的经验很少有人用它来创建日期，因为这个数字往往大的惊人，很不好计算。更多的是使用它来比较两个日期的大小。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 11th June 2019, 8am (in my Local Time, Singapore)</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">1560211200000</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="_4-无参数"><a href="#_4-无参数" aria-hidden="true" class="header-anchor">#</a> 4.无参数</h4> <p>如果创建不带有任何的参数，它会返回当前的日期（本地时间）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_1240,f_auto,q_auto/v1559677134/now_tfamsx.png" alt=""></p> <h3 id="总结"><a href="#总结" aria-hidden="true" class="header-anchor">#</a> 总结</h3> <ol><li>你可以通过 <code>new Date()</code>来创建一个日期</li> <li>有四种语法可以创建：
<ul><li>日期字符串</li> <li>日期参数</li> <li>时间戳</li> <li>无参数</li></ul></li> <li>不推荐使用日期字符串，因为它会有不同的结果。</li> <li>最好的方式是使用参数方式创建，分别对应为：年，月，日，时，分，秒，毫秒</li> <li>记住用参数创建时月份的索引从0开始。</li></ol> <p>接下来我们来谈谈日期格式的转换。</p> <h3 id="格式化日期"><a href="#格式化日期" aria-hidden="true" class="header-anchor">#</a> 格式化日期</h3> <p>在其他语言中会提供格式化工具来创建一个你想要的日期格式，例如：在 PHP 中你可以用 <code>date(&quot;d M Y&quot;)</code> 来创建一个像<code>23 Jan 2019</code>这种格式的。</p> <p>但是在 JavaScript 中格式化日期并没有简单的方法。原生 <code>Date</code> 对象提供了 7 种格式化的方法，但是这 7 种方法返回的都是一个特定的值，并无使用价值。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span>
</code></pre></div><ol><li>toString：返回 Wed Jan 23 2019 17:23:42 GMT+0800 (中国标准时间)</li> <li>toDateString：Wed Jan 23 2019</li> <li>toLocaleString：返回 23/01/2019, 17:23:42</li> <li>toLocaleDateString：23/01/2019</li> <li>toGMTString：Wed, 23 Jan 2019 09:23:42 GMT</li> <li>toUTCString：Wed, 23 Jan 2019 09:23:42 GMT</li> <li>toISOString：2019-01-23T09:23:42.079Z</li></ol> <p>如果想要一个自定义的值，此时就需要自己动手实现。</p> <h3 id="自定义格式"><a href="#自定义格式" aria-hidden="true" class="header-anchor">#</a> 自定义格式</h3> <p>比如你想要一个像 <code>Thu, 23 January 2019</code>这种日期，你需要用到下面四种方法：</p> <ol><li>getFullYear：根据当地时间获取4位数的年份</li> <li>getMonth：根据当地时间获取一年中的月份(0-11)。月份是零索引的</li> <li>getDate：根据当地时间获取一个月中的某一天(1-31)</li> <li>getDay：根据当地时间获取一周中的某一天(0-6)。一周中的一天从星期日(0)开始，到星期六(6)结束。</li></ol> <p>获取年份和日期非常简单，直接使用 <code>getFullYear</code>和 <code>getDate</code>即可。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> year <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 2019</span>
<span class="token keyword">const</span> date <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 23</span>
</code></pre></div><p>难的是获取<code>Thu</code> 和 <code>January</code>。</p> <p>想要获取<code>January</code>可以创建一个对象，然后让十二个月的值映射到各自的名称上。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> months <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token punctuation">:</span> <span class="token string">'January'</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token punctuation">:</span> <span class="token string">'February'</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token punctuation">:</span> <span class="token string">'March'</span><span class="token punctuation">,</span>
  <span class="token number">3</span><span class="token punctuation">:</span> <span class="token string">'April'</span><span class="token punctuation">,</span>
  <span class="token number">4</span><span class="token punctuation">:</span> <span class="token string">'May'</span><span class="token punctuation">,</span>
  <span class="token number">5</span><span class="token punctuation">:</span> <span class="token string">'June'</span><span class="token punctuation">,</span>
  <span class="token number">6</span><span class="token punctuation">:</span> <span class="token string">'July'</span><span class="token punctuation">,</span>
  <span class="token number">7</span><span class="token punctuation">:</span> <span class="token string">'August'</span><span class="token punctuation">,</span>
  <span class="token number">8</span><span class="token punctuation">:</span> <span class="token string">'September'</span><span class="token punctuation">,</span>
  <span class="token number">9</span><span class="token punctuation">:</span> <span class="token string">'October'</span><span class="token punctuation">,</span>
  <span class="token number">10</span><span class="token punctuation">:</span> <span class="token string">'November'</span><span class="token punctuation">,</span>
  <span class="token number">11</span><span class="token punctuation">:</span> <span class="token string">'December'</span>
<span class="token punctuation">}</span>
</code></pre></div><p>因为月份的索引是从 0 开始的，所以我们可以使用数组来代替对象，其结果是一样的。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> months <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'January'</span><span class="token punctuation">,</span>
  <span class="token string">'February'</span><span class="token punctuation">,</span>
  <span class="token string">'March'</span><span class="token punctuation">,</span>
  <span class="token string">'April'</span><span class="token punctuation">,</span>
  <span class="token string">'May'</span><span class="token punctuation">,</span>
  <span class="token string">'June'</span><span class="token punctuation">,</span>
  <span class="token string">'July'</span><span class="token punctuation">,</span>
  <span class="token string">'August'</span><span class="token punctuation">,</span>
  <span class="token string">'September'</span><span class="token punctuation">,</span>
  <span class="token string">'October'</span><span class="token punctuation">,</span>
  <span class="token string">'November'</span><span class="token punctuation">,</span>
  <span class="token string">'December'</span>
<span class="token punctuation">]</span>
</code></pre></div><p>获取<code>January</code>，你需要：</p> <ol><li>使用 <code>getMonth</code>获取到索引</li> <li>从 months 获取到名称。</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> monthIndex <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> monthName <span class="token operator">=</span> months<span class="token punctuation">[</span>monthIndex<span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>monthName<span class="token punctuation">)</span> <span class="token comment">// January</span>
</code></pre></div><p>可合并为</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> monthName <span class="token operator">=</span> <span class="token function">months</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>monthName<span class="token punctuation">)</span> <span class="token comment">// January</span>
</code></pre></div><p>同样的你可以用相同的方式来获取到 <code>Thu</code>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> days <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">'Sun'</span><span class="token punctuation">,</span>
  <span class="token string">'Mon'</span><span class="token punctuation">,</span>
  <span class="token string">'Tue'</span><span class="token punctuation">,</span>
  <span class="token string">'Wed'</span><span class="token punctuation">,</span>
  <span class="token string">'Thu'</span><span class="token punctuation">,</span>
  <span class="token string">'Fri'</span><span class="token punctuation">,</span>
  <span class="token string">'Sat'</span>
<span class="token punctuation">]</span>
</code></pre></div><p>然后：</p> <ol><li>使用 <code>getDay</code> 获取索引</li> <li>从 days 获取到名称。</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> dayName <span class="token operator">=</span> days<span class="token punctuation">[</span>d<span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment">// Thu</span>
</code></pre></div><p>至此，我们把上面的字符全部连接起来，就可以得到想要的结果。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> formatted <span class="token operator">=</span> <span class="token template-string"><span class="token string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dayName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>date<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>monthName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>year<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>formatted<span class="token punctuation">)</span> <span class="token comment">// Thu, 23 January 2019</span>
</code></pre></div><p>如果想创建自定义时间格式，可以用下面几个方法：</p> <ul><li>getHours：根据当地时间获取小时数(0-23)。</li> <li>getMinutes: 根据当地时间获取分钟数(0-59)。</li> <li>getSeconds: 根据当地时间获取秒(0-59)。</li> <li>getMilliseconds: 根据本地时间获取毫秒(0-999)。</li></ul> <p>接下来，我们来继续谈日期的比较。</p> <h3 id="日期比较"><a href="#日期比较" aria-hidden="true" class="header-anchor">#</a> 日期比较</h3> <p>如果想比较两个日期的大小，可直接使用比较符 &gt;、&lt;、&gt;=、&lt;= 。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> earlier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> later <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>earlier <span class="token operator">&lt;</span> later<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p><strong>但如果你想比较两个日期是否相等，此时使用 == 或 === 却无能为力了。</strong></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">===</span> b<span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><p>想要比较两个日期是否相等，可以使用 <code>getTime</code> 来获取时间戳来进行比较。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">isSameTime</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> b<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isSameTime</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>如果想检查两个日期是否在同一天，可以检查它们的 getFullYear、getMonth 和 getDate 的值。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">isSameDay</span> <span class="token operator">=</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> b<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
    a<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> b<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
    a<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">===</span> b<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token comment">// 26 Jan 2019, 10am</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">)</span> <span class="token comment">// 26 Jan 2019, 12pm</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">isSameDay</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>最后我们在谈一件事</p> <h3 id="计算日期"><a href="#计算日期" aria-hidden="true" class="header-anchor">#</a> 计算日期</h3> <p>有两种可能的情况：</p> <ol><li>设置特定日期/时间</li> <li>增加/减少日期</li></ol> <h4 id="设定特定日期"><a href="#设定特定日期" aria-hidden="true" class="header-anchor">#</a> 设定特定日期</h4> <p>你可以用以下方法设定日期：</p> <ol><li>setFullYear：设置年份</li> <li>setMonth：设置月份</li> <li>setDate：设置天</li> <li>setHours：设置时</li> <li>setMinutes：设置分钟</li> <li>setSeconds：设置秒数</li> <li>setMilliseconds：设置毫秒数</li></ol> <p>例如可以将日期设置为 15号：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token comment">// 15 January 2019</span>
</code></pre></div><p>如果想将月份设置为 6 月，可以用 <code>setMonth</code> （月的索引要从 0 开始）</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token comment">// 10 June 2019</span>
</code></pre></div><blockquote><p>注意：上面的方法我们都修改了原始的对象，实际上我们不应该这么改变对象<a href="https://alistapart.com/article/why-mutation-can-be-scary/" target="_blank" rel="noopener noreferrer">为什么在这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，应该创建一个新的对象进行操作。</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> newDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
newDate<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span> <span class="token comment">// 10 January 2019</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newDate<span class="token punctuation">)</span> <span class="token comment">// 10 June 2019</span>
</code></pre></div><h3 id="增加-减少-日期"><a href="#增加-减少-日期" aria-hidden="true" class="header-anchor">#</a> 增加/减少 日期</h3> <p>想要计算改变后的日期，首先你需要获取到它们：</p> <ol><li>getFullYear：根据当地时间获取4位数的年份</li> <li>getMonth：根据当地时间获取一年中的月份(0-11)。月份是零索引的</li> <li>getDate：根据当地时间获取一个月中的某一天(1-31)</li> <li>getHours：根据当地时间获取小时数(0-23)。</li> <li>getMinutes: 根据当地时间获取分钟数(0-59)。</li> <li>getSeconds: 根据当地时间获取秒(0-59)。</li> <li>getMilliseconds: 根据本地时间获取毫秒(0-999)。</li></ol> <p>通常有两种方法实现日期的增加或减少。第一种：简介但难理解，第二种，冗长但好理解。</p> <p>一起来看</p> <p>假设现在是2019年3月28日，我想要得到三天后的日期。</p> <h4 id="第一种方法："><a href="#第一种方法：" aria-hidden="true" class="header-anchor">#</a> 第一种方法：</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> finalDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>today<span class="token punctuation">)</span>
finalDate<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span>today<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>finalDate<span class="token punctuation">)</span> <span class="token comment">// 31 March 2019</span>
</code></pre></div><h4 id="第二种方法："><a href="#第二种方法：" aria-hidden="true" class="header-anchor">#</a> 第二种方法：</h4> <p>在这里，我们使用getFullYear、getMonth、getDate 和其他getter方法，直到找到想要更改的值的类型。然后我们用新日期创建最终日期。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">)</span>

<span class="token comment">// Getting required values</span>
<span class="token keyword">const</span> year <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> month <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getMonh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> day <span class="token operator">=</span> today<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// Creating a new Date (with the delta)</span>
<span class="token keyword">const</span> finalDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>finalDate<span class="token punctuation">)</span> <span class="token comment">// 31 March 2019</span>
</code></pre></div><p>以上两种方式都是有效的，你可以选择一种去做。</p> <h3 id="自动修正"><a href="#自动修正" aria-hidden="true" class="header-anchor">#</a> 自动修正</h3> <p>如果你提供的日期值超出了其可接受的范围，JavaScript 会自动重新计算日期。</p> <p>比如：把日期定在2019年3月33日，在这种情况下，JavaScript会自动将3月33日调整到4月2日。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 33rd March =&gt; 2nd April</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_1220,f_auto,q_auto/v1559678313/33march_khnwlr.png" alt=""></p> <p>这意味着我们不需要担心计算分钟、小时、天、月等。 JavaScript 会自动帮助我们处理。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 33rd March =&gt; 2nd April</span>
<span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2019</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">30</span> <span class="token operator">+</span> <span class="token number">3</span><span class="token punctuation">)</span>
</code></pre></div><p><img src="https://res.cloudinary.com/css-tricks/image/upload/c_scale,w_1222,f_auto,q_auto/v1559678492/33march-2_jurpoe.png" alt=""></p> <p>到这里，有关于日期对象的所有东西你都已经了解啦。</p> <blockquote><p>原文：https://css-tricks.com/everything-you-need-to-know-about-date-in-javascript/<br>
翻译：六小登登<br>
更多优质文章：<a href="https://liuxiaodeng.github.io/" target="_blank" rel="noopener noreferrer">六小登登的博客<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2019年7月31日星期三凌晨2点28分</span></div></div> <div class="profile-info"><p>我是：六小登登，一名爱写作的技术人</p> <p>关注公众号：六小登登，后台回复「1024」即可免费获取惊喜福利</p> <p>后台回复「加群」群里每天都会全网搜罗好文章给你</p> <p>扫码即可关注</p> <img width="250px" src="/assets/img/small-solgan.80d7136e.png" alt="公众号：六小登登"></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/javascript/excution-content.html" class="prev">Javascript中你必须理解的执行上下文和调用栈</a></span> <span class="next"><a href="/javascript/web-learned.html">一个「学渣」从零Web前端自学之路</a>→
      </span></p></div> </div> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.f4e7215e.js" defer></script><script src="/assets/js/6.7295f252.js" defer></script><script src="/assets/js/49.c4673552.js" defer></script>
  </body>
</html>
